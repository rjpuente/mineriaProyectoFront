{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var AuthContext = createContext();\nexport function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    userToken = _useState2[0],\n    setUserToken = _useState2[1];\n  var login = function () {\n    var _ref2 = _asyncToGenerator(function* (token) {\n      setUserToken(token);\n      yield AsyncStorage.setItem('userToken', token);\n    });\n    return function login(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var logout = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      setUserToken(null);\n      yield AsyncStorage.removeItem('userToken');\n    });\n    return function logout() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var restoreToken = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      var token = yield AsyncStorage.getItem('userToken');\n      setUserToken(token);\n    });\n    return function restoreToken() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    restoreToken();\n  }, []);\n  return _jsx(AuthContext.Provider, {\n    value: {\n      userToken: userToken,\n      login: login,\n      logout: logout\n    },\n    children: children\n  });\n}","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","AsyncStorage","jsx","_jsx","AuthContext","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","userToken","setUserToken","login","_ref2","_asyncToGenerator","token","setItem","_x","apply","arguments","logout","_ref3","removeItem","restoreToken","_ref4","getItem","Provider","value"],"sources":["C:/xampp/htdocs/mineriaProyectoFront/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from 'react';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [userToken, setUserToken] = useState(null);\r\n\r\n  const login = async (token) => {\r\n    setUserToken(token);\r\n    await AsyncStorage.setItem('userToken', token);\r\n  };\r\n\r\n  const logout = async () => {\r\n    setUserToken(null);\r\n    await AsyncStorage.removeItem('userToken');\r\n  };\r\n\r\n  const restoreToken = async () => {\r\n    const token = await AsyncStorage.getItem('userToken');\r\n    setUserToken(token);\r\n  };\r\n\r\n  useEffect(() => {\r\n    restoreToken();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ userToken, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC7E,OAAOC,YAAY,MAAM,2CAA2C;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAErE,OAAO,IAAMC,WAAW,GAAGP,aAAa,CAAC,CAAC;AAE1C,OAAO,SAASQ,YAAYA,CAAAC,IAAA,EAAe;EAAA,IAAZC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EACrC,IAAAC,SAAA,GAAkCR,QAAQ,CAAC,IAAI,CAAC;IAAAS,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAzCG,SAAS,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAE9B,IAAMI,KAAK;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,WAAOC,KAAK,EAAK;MAC7BJ,YAAY,CAACI,KAAK,CAAC;MACnB,MAAMf,YAAY,CAACgB,OAAO,CAAC,WAAW,EAAED,KAAK,CAAC;IAChD,CAAC;IAAA,gBAHKH,KAAKA,CAAAK,EAAA;MAAA,OAAAJ,KAAA,CAAAK,KAAA,OAAAC,SAAA;IAAA;EAAA,GAGV;EAED,IAAMC,MAAM;IAAA,IAAAC,KAAA,GAAAP,iBAAA,CAAG,aAAY;MACzBH,YAAY,CAAC,IAAI,CAAC;MAClB,MAAMX,YAAY,CAACsB,UAAU,CAAC,WAAW,CAAC;IAC5C,CAAC;IAAA,gBAHKF,MAAMA,CAAA;MAAA,OAAAC,KAAA,CAAAH,KAAA,OAAAC,SAAA;IAAA;EAAA,GAGX;EAED,IAAMI,YAAY;IAAA,IAAAC,KAAA,GAAAV,iBAAA,CAAG,aAAY;MAC/B,IAAMC,KAAK,SAASf,YAAY,CAACyB,OAAO,CAAC,WAAW,CAAC;MACrDd,YAAY,CAACI,KAAK,CAAC;IACrB,CAAC;IAAA,gBAHKQ,YAAYA,CAAA;MAAA,OAAAC,KAAA,CAAAN,KAAA,OAAAC,SAAA;IAAA;EAAA,GAGjB;EAEDrB,SAAS,CAAC,YAAM;IACdyB,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,OACErB,IAAA,CAACC,WAAW,CAACuB,QAAQ;IAACC,KAAK,EAAE;MAAEjB,SAAS,EAATA,SAAS;MAAEE,KAAK,EAALA,KAAK;MAAEQ,MAAM,EAANA;IAAO,CAAE;IAAAd,QAAA,EACvDA;EAAQ,CACW,CAAC;AAE3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}